/* Custom Calendar Styles */

.custom-calendar {
  --calendar-slot-height: 48px;
  --calendar-time-axis-width: 64px;
  --calendar-header-height: 48px;
}

/* Smooth scrolling */
.custom-calendar {
  scroll-behavior: smooth;
}

/* Time grid styling */
.custom-calendar .time-grid {
  display: flex;
  flex: 1;
  overflow: hidden;
}

/* Day column styling */
.custom-calendar .day-column {
  flex: 1;
  min-width: 120px;
  border-right: 1px solid hsl(var(--border));
}

.custom-calendar .day-column:last-child {
  border-right: none;
}

/* Event block styling */
.custom-calendar .event-block {
  transition: transform 0.1s ease, box-shadow 0.1s ease;
}

.custom-calendar .event-block:hover {
  transform: scale(1.02);
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
}

.custom-calendar .event-block.dragging {
  opacity: 0.5;
  cursor: grabbing;
}

/* Time slot hover effect */
.custom-calendar .time-slot:hover {
  background-color: hsl(var(--accent) / 0.5);
}

/* Now indicator animation */
.custom-calendar .now-indicator {
  animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.6;
  }
}

/* AI highlighted slots */
.custom-calendar .ai-highlighted {
  background-color: hsl(142.1 76.2% 36.3% / 0.2);
  border-left: 4px solid hsl(142.1 76.2% 36.3%);
}

/* Month view styling */
.custom-calendar .month-day {
  min-height: 100px;
  transition: background-color 0.15s ease;
}

.custom-calendar .month-day:hover {
  background-color: hsl(var(--accent) / 0.5);
}

.custom-calendar .month-day.outside-month {
  background-color: hsl(var(--muted) / 0.3);
}

.custom-calendar .month-day.today {
  background-color: hsl(var(--primary) / 0.05);
}

/* Team view resource columns */
.custom-calendar .resource-column {
  min-width: 150px;
  flex: 1;
}

.custom-calendar .resource-header {
  height: var(--calendar-header-height);
  display: flex;
  align-items: center;
  justify-content: center;
  border-bottom: 1px solid hsl(var(--border));
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .custom-calendar {
    --calendar-slot-height: 40px;
    --calendar-time-axis-width: 48px;
  }

  .custom-calendar .day-column {
    min-width: 80px;
  }

  .custom-calendar .resource-column {
    min-width: 100px;
  }
}

/* Dark mode adjustments */
.dark .custom-calendar {
  --calendar-border-color: hsl(var(--border));
}

.dark .custom-calendar .event-block {
  box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.3);
}

.dark .custom-calendar .event-block:hover {
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3);
}

.dark .custom-calendar .ai-highlighted {
  background-color: hsl(142.1 76.2% 36.3% / 0.15);
}

.dark .custom-calendar .month-day.outside-month {
  background-color: hsl(var(--muted) / 0.15);
}

/* Mobile-specific styles */
.mobile-calendar {
  --calendar-slot-height: 40px;
  --calendar-time-axis-width: 48px;
  touch-action: pan-y;
  -webkit-overflow-scrolling: touch;
}

.mobile-calendar .safe-area-inset-top {
  padding-top: env(safe-area-inset-top);
}

.mobile-calendar .safe-area-inset-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

/* Swipe animation */
.mobile-calendar .swipe-container {
  transition: transform 0.2s ease-out;
}

.mobile-calendar .swipe-container.swiping {
  transition: none;
}

/* Tap highlight removal for mobile */
.mobile-calendar button,
.mobile-calendar .time-slot,
.mobile-calendar .event-block {
  -webkit-tap-highlight-color: transparent;
}

/* Touch-friendly hit areas */
.mobile-calendar .time-slot {
  min-height: 44px;
}

.mobile-calendar .event-block {
  min-height: 44px;
}

/* Print styles */
@media print {
  .custom-calendar .navigation-buttons,
  .custom-calendar .view-selector {
    display: none;
  }

  .custom-calendar {
    border: 1px solid #000;
  }
}

/* Scrollbar styling */
.custom-calendar ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.custom-calendar ::-webkit-scrollbar-track {
  background: transparent;
}

.custom-calendar ::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.3);
  border-radius: 4px;
}

.custom-calendar ::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.5);
}

/* Focus styles for accessibility */
.custom-calendar .time-slot:focus-visible,
.custom-calendar .event-block:focus-visible,
.custom-calendar .month-day:focus-visible {
  outline: 2px solid hsl(var(--ring));
  outline-offset: 2px;
}

/* Keyboard navigation support */
.custom-calendar [role="button"]:focus-visible,
.custom-calendar [role="gridcell"]:focus-visible {
  outline: 2px solid hsl(var(--ring));
  outline-offset: 2px;
  z-index: 10;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .custom-calendar .event-block {
    border: 2px solid currentColor;
  }

  .custom-calendar .time-slot {
    border-color: currentColor;
  }

  .custom-calendar .now-indicator {
    height: 3px;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .custom-calendar .event-block {
    transition: none;
  }

  .custom-calendar .now-indicator {
    animation: none;
  }

  .mobile-calendar .swipe-container {
    transition: none;
  }

  .custom-calendar .ai-highlighted {
    animation: none;
  }
}

/* Screen reader only content */
.custom-calendar .sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Skip to main content link */
.custom-calendar .skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: hsl(var(--background));
  padding: 8px;
  z-index: 100;
}

.custom-calendar .skip-link:focus {
  top: 0;
}
